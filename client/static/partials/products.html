<div ng-controller="ProductsController">
    <div class="view_body">
        <div class="row">
            <h2 class="store-name">Welcome to the Mini Store!</h2>
        </div>

        <div class="row">
            <!-- Left: Filter -->
            <div class="small-2 large-expand columns view_left">
                <form>
                    <div class="row filter_section">
                        <div class="medium-12 columns">
                            <h4>Type to Filter</h4>
                            <label>
                                <input type="text" ng-model="dashboard_filter" placeholder="search..."  ng-model="filter_name">
                            </label>
                        </div>
                    </div>
                </form>

                <h4>Add product</h4>
                <form name="productForm">
                    <label for="prod_name">Name:
                        <span ng-messages="productForm.prod_name.$error" style="color:maroon" role="alert">
                         <span ng-message="required">is required.</span>
                        </span>
                    </label>
                    <input name="prod_name" type="text" placeholder="name..." ng-model="newProduct.name" required>

                    <label for="link">Image(url):
                        <span ng-messages="productForm.link.$error" style="color:maroon" role="alert">
                         <span ng-message="required">is required.</span>
                        </span>
                    </label>
                    <input name="link" type="text" placeholder="http://" ng-model="newProduct.link" required>

                    <label for="description">Description:
                        <span ng-messages="productForm.description.$error" style="color:maroon" role="alert">
                         <span ng-message="required">is required.</span>
                        </span>
                    </label>
                    <textarea name="description" ng-model="newProduct.description" required></textarea>

                    <label for="amountLeft">Initial Quantity:
                        <span ng-messages="productForm.amountLeft.$error" style="color:maroon" role="alert">
                         <span ng-message="required">is required.</span>
                        </span>
                    </label>
                    <select name="amountLeft" ng-model="newProduct.amountLeft" required>
                        <option ng-repeat="i in getNumber(number) track by $index" value="{{ $index + 1 }}" >{{ $index + 1 }}</option>
                    </select>
                    <button class="button right" type="button" ng-click="addProduct()">Create</button>
                </form>
            </div>

            <!-- Right: Products -->
            <div class="small-10 large-expand columns view_right">
                <div class="products">
                    <div class="img_box product_each" ng-repeat="product in products | filter: dashboard_filter">
                        <img class="prod" ng-src="{{ product.link }}" alt="" />
                        <p>{{product.name}}</p>
                        <p>({{product.amountLeft}} left)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
